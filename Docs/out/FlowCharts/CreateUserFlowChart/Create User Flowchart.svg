<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="822px" preserveAspectRatio="none" style="width:539px;height:822px;background:#FFFFFF;" version="1.1" viewBox="0 0 539 822" width="539px" zoomAndPan="magnify"><defs/><g><ellipse cx="169.1094" cy="16" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="91.1094" y="67"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="136" x="101.1094" y="89.457">Recieve create user data</text><g id="elem_#5"><polygon fill="#90EE90" points="169.1094,143,181.1094,155,169.1094,167,157.1094,155,169.1094,143" style="stroke:#181818;stroke-width:0.5;"/></g><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="65.6094" y="222"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="75.6094" y="244.457">throw badrequest exception</text><g id="elem_#10"><polygon fill="#90EE90" points="269.1094,227.5,281.1094,239.5,269.1094,251.5,257.1094,239.5,269.1094,227.5" style="stroke:#181818;stroke-width:0.5;"/></g><g id="elem_#13"><polygon fill="#90EE90" points="213.1094,317.5,225.1094,329.5,213.1094,341.5,201.1094,329.5,213.1094,317.5" style="stroke:#181818;stroke-width:0.5;"/></g><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="110.6094" y="402"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="120.6094" y="424.457">Throw Email already in use</text><g id="elem_#18"><polygon fill="#90EE90" points="312.1094,407.5,324.1094,419.5,312.1094,431.5,300.1094,419.5,312.1094,407.5" style="stroke:#181818;stroke-width:0.5;"/></g><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="152.6094" y="492"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187" x="162.6094" y="514.457">Throw password leaked exception</text><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="380.1094" y="492"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="390.1094" y="514.457">Hash password</text><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="362.6094" y="568"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="372.6094" y="590.457">Save user in database</text><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="359.6094" y="644"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="369.6094" y="666.457">Generate token for user</text><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="389.1094" y="720"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="399.1094" y="742.457">Return token</text><ellipse cx="434.1094" cy="806" fill="none" rx="10" ry="10" style="stroke:#FF0000;stroke-width:1.0;"/><ellipse cx="434.6094" cy="806.5" fill="#FF0000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#ADD8E6" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="245.6094" y="312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="255.6094" y="334.457">Throw forbidden</text><!--MD5=[3932cca766dd937774683e8fb629e95d]
link start to Recieve create user data--><g id="link_start_Recieve create user data"><path d="M169.1094,26.25 C169.1094,35.43 169.1094,49.84 169.1094,61.9 " fill="none" id="start-to-Recieve create user data" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="169.1094,66.91,173.1094,57.91,169.1094,61.91,165.1094,57.91,169.1094,66.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9a4f310c66a1cf0d79eadeab6631b815]
link Recieve create user data to #5--><g id="link_Recieve create user data_#5"><path d="M169.1094,102.08 C169.1094,112.87 169.1094,126.88 169.1094,137.63 " fill="none" id="Recieve create user data-to-#5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="169.1094,142.92,173.1094,133.92,169.1094,137.92,165.1094,133.92,169.1094,142.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="6" y="136.2309">password length &lt; 8 or &gt; 128</text></g><!--MD5=[471711ab4fea776db1ad1dd3a456fb5c]
link #5 to throw badrequest exception--><g id="link_#5_throw badrequest exception"><path d="M167.1094,165.14 C164.4094,177.54 159.4994,200.05 155.8294,216.88 " fill="none" id="#5-to-throw badrequest exception" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="154.7294,221.91,160.5422,213.9595,155.7868,217.0231,152.7232,212.2676,154.7294,221.91" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="164.1094" y="199.4189">true</text></g><!--MD5=[46dcf2c2a445c5816f2e190415bdd366]
link #5 to #10--><g id="link_#5_#10"><path d="M175.3694,161.16 C192.1294,174.99 238.1994,213 258.8494,230.04 " fill="none" id="#5-to-#10" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="262.8594,233.34,258.448,224.5343,258.9972,230.1645,253.3671,230.7138,262.8594,233.34" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="288.9906" y="220.4351">Ip not blocked</text></g><!--MD5=[9538665f2ab965abc6aeb4806bf673b9]
link #10 to #13--><g id="link_#10_#13"><path d="M264.7194,247.41 C255.1094,262.5 232.1694,298.54 220.3794,317.07 " fill="none" id="#10-to-#13" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="217.6394,321.38,225.8495,315.9399,220.3265,317.1635,219.103,311.6405,217.6394,321.38" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="141.1031" y="307.3722">Email exists</text></g><!--MD5=[dfa91fef9ff2ba4f053e03a7ddd7fa94]
link #13 to Throw Email already in use--><g id="link_#13_Throw Email already in use"><path d="M211.1794,339.92 C208.4094,353.45 203.2294,378.79 199.4994,397.04 " fill="none" id="#13-to-Throw Email already in use" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="198.4894,401.98,204.2082,393.9616,199.4892,397.081,196.3698,392.3619,198.4894,401.98" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="207.1094" y="379.4189">true</text></g><!--MD5=[5b14e0bfd6ed502d365557b4ed922e16]
link #13 to #18--><g id="link_#13_#18"><path d="M219.0094,335.74 C235.4094,350.32 281.6894,391.46 302.1594,409.66 " fill="none" id="#13-to-#18" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="306.1194,413.17,302.0501,404.2011,302.3823,409.8482,296.7352,410.1804,306.1194,413.17" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="201" x="331.5189" y="408.2532">User password exists in leaked database</text></g><!--MD5=[a821bff61f0cc5c2abf4b513e0efb0d4]
link #18 to Throw password leaked exception--><g id="link_#18_Throw password leaked exception"><path d="M307.7194,427.41 C299.5694,440.21 281.8094,468.12 269.4094,487.59 " fill="none" id="#18-to-Throw password leaked exception" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="266.6994,491.86,274.9095,486.4199,269.3865,487.6435,268.163,482.1205,266.6994,491.86" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="289.1094" y="469.4189">True</text></g><!--MD5=[beb7d5394fae13cd2b4c1f2144682f1e]
link #18 to Hash password--><g id="link_#18_Hash password"><path d="M318.6694,425.23 C334.9894,437 378.1794,468.16 406.8494,488.84 " fill="none" id="#18-to-Hash password" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="410.9694,491.81,405.9933,483.3107,406.9085,488.893,401.3261,489.8081,410.9694,491.81" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="381.1094" y="469.4189">false</text></g><!--MD5=[c24b940335b56314a67cdd462dce68ef]
link Hash password to Save user in database--><g id="link_Hash password_Save user in database"><path d="M434.1094,527.29 C434.1094,537.79 434.1094,551.43 434.1094,562.75 " fill="none" id="Hash password-to-Save user in database" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="434.1094,567.77,438.1094,558.77,434.1094,562.77,430.1094,558.77,434.1094,567.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[63fec40f8536669992f9006b48374785]
link Save user in database to Generate token for user--><g id="link_Save user in database_Generate token for user"><path d="M434.1094,603.29 C434.1094,613.79 434.1094,627.43 434.1094,638.75 " fill="none" id="Save user in database-to-Generate token for user" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="434.1094,643.77,438.1094,634.77,434.1094,638.77,430.1094,634.77,434.1094,643.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ecc4c7a20eec23a9134f846750d4e969]
link Generate token for user to Return token--><g id="link_Generate token for user_Return token"><path d="M434.1094,679.29 C434.1094,689.79 434.1094,703.43 434.1094,714.75 " fill="none" id="Generate token for user-to-Return token" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="434.1094,719.77,438.1094,710.77,434.1094,714.77,430.1094,710.77,434.1094,719.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e178f1f4068ee0e7f5aeacc8dbfee9ac]
link Return token to end--><g id="link_Return token_end"><path d="M434.1094,755.28 C434.1094,766.29 434.1094,780.52 434.1094,790.94 " fill="none" id="Return token-to-end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="434.1094,796,438.1094,787,434.1094,791,430.1094,787,434.1094,796" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9e94a16ea34a30873739664ab7f78cf3]
link #10 to Throw forbidden--><g id="link_#10_Throw forbidden"><path d="M272.0794,248.94 C276.7394,262.15 285.8894,288.14 292.4694,306.82 " fill="none" id="#10-to-Throw forbidden" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="294.2594,311.88,295.0577,302.0636,292.6057,307.1614,287.5079,304.7094,294.2594,311.88" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="288.1094" y="289.4189">false</text></g><!--MD5=[4cad01b469cd12aa49fcf336454b7f75]
@startuml Create User Flowchart

skinparam activity {
    BackgroundColor lightblue
    
    StartColor green
    EndColor red
    
    diamondBackgroundColor lightgreen
}


(*) - -> "Recieve create user data"
if "password length < 8 or > 128" then
  - ->[true] throw badrequest exception
else
if "Ip not blocked " then
	if "Email exists" then
		- ->[true] "Throw Email already in use"
	else
		if "User password exists in leaked database" then
			- ->[True]"Throw password leaked exception"
		else
			- ->[false] "Hash password"
			- -> "Save user in database"
			- -> "Generate token for user"
			- -> "Return token"
			- -> (*)
		end if
	end if
else
- ->[false] "Throw forbidden"

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>