<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="718px" preserveAspectRatio="none" style="width:434px;height:718px;background:#FFFFFF;" version="1.1" viewBox="0 0 434 718" width="434px" zoomAndPan="magnify"><defs/><g><ellipse cx="169.1094" cy="16" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="91.1094" y="67"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="136" x="101.1094" y="89.457">Recieve create user data</text><g id="elem_#5"><polygon fill="#F1F1F1" points="169.1094,143,181.1094,155,169.1094,167,157.1094,155,169.1094,143" style="stroke:#181818;stroke-width:0.5;"/></g><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="70.6094" y="208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="80.6094" y="230.457">throw badrequest exception</text><g id="elem_#10"><polygon fill="#F1F1F1" points="274.1094,213.5,286.1094,225.5,274.1094,237.5,262.1094,225.5,274.1094,213.5" style="stroke:#181818;stroke-width:0.5;"/></g><g id="elem_#13"><polygon fill="#F1F1F1" points="218.1094,303.5,230.1094,315.5,218.1094,327.5,206.1094,315.5,218.1094,303.5" style="stroke:#181818;stroke-width:0.5;"/></g><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="110.6094" y="388"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="120.6094" y="410.457">Throw Email already in use</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="300.1094" y="388"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="310.1094" y="410.457">Hash password</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="282.6094" y="464"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="292.6094" y="486.457">Save user in database</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="279.6094" y="540"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="289.6094" y="562.457">Generate token for user</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="309.1094" y="616"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="319.1094" y="638.457">Return token</text><ellipse cx="354.1094" cy="702" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="354.6094" cy="702.5" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="250.6094" y="298"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="260.6094" y="320.457">Throw forbidden</text><!--MD5=[3932cca766dd937774683e8fb629e95d]
link start to Recieve create user data--><g id="link_start_Recieve create user data"><path d="M169.1094,26.25 C169.1094,35.43 169.1094,49.84 169.1094,61.9 " fill="none" id="start-to-Recieve create user data" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="169.1094,66.91,173.1094,57.91,169.1094,61.91,165.1094,57.91,169.1094,66.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9a4f310c66a1cf0d79eadeab6631b815]
link Recieve create user data to #5--><g id="link_Recieve create user data_#5"><path d="M169.1094,102.08 C169.1094,112.87 169.1094,126.88 169.1094,137.63 " fill="none" id="Recieve create user data-to-#5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="169.1094,142.92,173.1094,133.92,169.1094,137.92,165.1094,133.92,169.1094,142.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="6" y="136.2309">password length &lt; 8 or &gt; 128</text></g><!--MD5=[471711ab4fea776db1ad1dd3a456fb5c]
link #5 to throw badrequest exception--><g id="link_#5_throw badrequest exception"><path d="M167.2994,165.52 C165.4794,175.11 162.6094,190.23 160.2394,202.76 " fill="none" id="#5-to-throw badrequest exception" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="159.2494,207.95,164.8508,199.8492,160.1777,203.0369,156.9899,198.3638,159.2494,207.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[46dcf2c2a445c5816f2e190415bdd366]
link #5 to #10--><g id="link_#5_#10"><path d="M175.9994,160.18 C190.2094,168.85 223.7194,189.52 251.1094,208 C255.2094,210.77 259.6394,213.91 263.5094,216.7 " fill="none" id="#5-to-#10" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="267.7394,219.78,262.817,211.2494,263.6969,216.8374,258.1089,217.7174,267.7394,219.78" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="293.7596" y="207.2821">Ip not blocked</text></g><!--MD5=[9538665f2ab965abc6aeb4806bf673b9]
link #10 to #13--><g id="link_#10_#13"><path d="M269.7194,233.41 C260.1094,248.5 237.1694,284.54 225.3794,303.07 " fill="none" id="#10-to-#13" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="222.6394,307.38,230.8495,301.9399,225.3265,303.1635,224.103,297.6405,222.6394,307.38" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="146.1031" y="293.3722">Email exists</text></g><!--MD5=[dfa91fef9ff2ba4f053e03a7ddd7fa94]
link #13 to Throw Email already in use--><g id="link_#13_Throw Email already in use"><path d="M215.8194,325.26 C212.3494,338.53 205.6594,364.15 200.8094,382.67 " fill="none" id="#13-to-Throw Email already in use" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="199.4994,387.69,205.6536,380.0007,200.769,382.8539,197.9159,377.9693,199.4994,387.69" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="209.1094" y="365.4189">true</text></g><!--MD5=[dd97c3aa4abe720e0dd9d9ad0cde1b4e]
link #13 to Hash password--><g id="link_#13_Hash password"><path d="M224.5494,321.55 C228.8794,324.9 234.7594,329.32 240.1094,333 C267.0094,351.48 298.4994,371.08 321.5494,385.07 " fill="none" id="#13-to-Hash password" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="326.0494,387.8,320.4216,379.7174,321.772,385.2107,316.2787,386.5611,326.0494,387.8" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="293.1094" y="365.4189">false</text></g><!--MD5=[c24b940335b56314a67cdd462dce68ef]
link Hash password to Save user in database--><g id="link_Hash password_Save user in database"><path d="M354.1094,423.29 C354.1094,433.79 354.1094,447.43 354.1094,458.75 " fill="none" id="Hash password-to-Save user in database" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="354.1094,463.77,358.1094,454.77,354.1094,458.77,350.1094,454.77,354.1094,463.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[63fec40f8536669992f9006b48374785]
link Save user in database to Generate token for user--><g id="link_Save user in database_Generate token for user"><path d="M354.1094,499.29 C354.1094,509.79 354.1094,523.43 354.1094,534.75 " fill="none" id="Save user in database-to-Generate token for user" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="354.1094,539.77,358.1094,530.77,354.1094,534.77,350.1094,530.77,354.1094,539.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ecc4c7a20eec23a9134f846750d4e969]
link Generate token for user to Return token--><g id="link_Generate token for user_Return token"><path d="M354.1094,575.29 C354.1094,585.79 354.1094,599.43 354.1094,610.75 " fill="none" id="Generate token for user-to-Return token" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="354.1094,615.77,358.1094,606.77,354.1094,610.77,350.1094,606.77,354.1094,615.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e178f1f4068ee0e7f5aeacc8dbfee9ac]
link Return token to end--><g id="link_Return token_end"><path d="M354.1094,651.28 C354.1094,662.29 354.1094,676.52 354.1094,686.94 " fill="none" id="Return token-to-end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="354.1094,692,358.1094,683,354.1094,687,350.1094,683,354.1094,692" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9e94a16ea34a30873739664ab7f78cf3]
link #10 to Throw forbidden--><g id="link_#10_Throw forbidden"><path d="M277.0794,234.94 C281.7394,248.15 290.8894,274.14 297.4694,292.82 " fill="none" id="#10-to-Throw forbidden" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="299.2594,297.88,300.0577,288.0636,297.6057,293.1614,292.5079,290.7094,299.2594,297.88" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="292.1094" y="275.4189">false</text></g><!--MD5=[7ecddacd960b67a71d23171bc08ba1a0]
@startuml Create User Flowchart

(*) - -> "Recieve create user data"
if "password length < 8 or > 128" then
  - ->throw badrequest exception
else
if "Ip not blocked " then
  if "Email exists" then
    - ->[true] "Throw Email already in use"
  else 
    - ->[false] "Hash password"
    - -> "Save user in database"
    - -> "Generate token for user"
    - -> "Return token"
    - -> (*)
  end if 
  else
  - ->[false] "Throw forbidden"
end if
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>