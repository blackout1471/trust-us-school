<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="416px" preserveAspectRatio="none" style="width:929px;height:416px;background:#FFFFFF;" version="1.1" viewBox="0 0 929 416" width="929px" zoomAndPan="magnify"><defs/><g><!--MD5=[93e51899d99a79ff80efffde6dbc2b8d]
class IMessageService--><g id="elem_IMessageService"><rect codeLine="5" fill="#F1F1F1" height="65.6094" id="IMessageService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="336" x="36.5" y="273"/><ellipse cx="146.25" cy="289" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M147.2031,285.6406 L147.2031,292.2969 L148.9219,292.2969 Q149.5313,292.2969 149.7969,292.5313 Q150.0625,292.7656 150.0625,293.1563 Q150.0625,293.5313 149.7969,293.7656 Q149.5313,294 148.9219,294 L143.7813,294 Q143.1719,294 142.9063,293.7656 Q142.6406,293.5313 142.6406,293.1406 Q142.6406,292.7656 142.9063,292.5313 Q143.1719,292.2969 143.7813,292.2969 L145.5,292.2969 L145.5,285.6406 L143.7813,285.6406 Q143.1719,285.6406 142.9063,285.4063 Q142.6406,285.1719 142.6406,284.7813 Q142.6406,284.4063 142.9063,284.1719 Q143.1719,283.9375 143.7813,283.9375 L148.9219,283.9375 Q149.5313,283.9375 149.7969,284.1719 Q150.0625,284.4063 150.0625,284.7813 Q150.0625,285.1719 149.7969,285.4063 Q149.5313,285.6406 148.9219,285.6406 L147.2031,285.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108" x="166.75" y="294.7285">IMessageService</text><line style="stroke:#181818;stroke-width:0.5;" x1="37.5" x2="371.5" y1="305" y2="305"/><line style="stroke:#181818;stroke-width:0.5;" x1="37.5" x2="371.5" y1="313" y2="313"/><ellipse cx="47.5" cy="327.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="56.5" y="331.5332">SendMessageAsync(message : IMessage) : Task</text></g><!--MD5=[f948a8e2c97a6d71dd2f8ef0f98e44b8]
class MailMessageService--><g id="elem_MailMessageService"><rect codeLine="9" fill="#F1F1F1" height="136.0469" id="MailMessageService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="451" x="7" y="7"/><ellipse cx="163.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M166.5156,18.875 Q166.6719,18.6563 166.8594,18.5469 Q167.0469,18.4375 167.2656,18.4375 Q167.6406,18.4375 167.875,18.6953 Q168.1094,18.9531 168.1094,19.5625 L168.1094,21.0156 Q168.1094,21.625 167.875,21.8906 Q167.6406,22.1563 167.2656,22.1563 Q166.9219,22.1563 166.7188,21.9531 Q166.5156,21.7656 166.4063,21.25 Q166.3594,20.8906 166.1719,20.7031 Q165.8438,20.3281 165.2344,20.1094 Q164.625,19.8906 164,19.8906 Q163.2344,19.8906 162.6016,20.2188 Q161.9688,20.5469 161.4766,21.2969 Q160.9844,22.0469 160.9844,23.0781 L160.9844,24.1719 Q160.9844,25.4063 161.875,26.2266 Q162.7656,27.0469 164.3594,27.0469 Q165.2969,27.0469 165.9531,26.7969 Q166.3438,26.6406 166.7656,26.2031 Q167.0313,25.9375 167.1797,25.8594 Q167.3281,25.7813 167.5313,25.7813 Q167.8594,25.7813 168.1172,26.0391 Q168.375,26.2969 168.375,26.6406 Q168.375,26.9844 168.0313,27.3906 Q167.5313,27.9688 166.7344,28.2969 Q165.6563,28.75 164.3594,28.75 Q162.8438,28.75 161.6406,28.125 Q160.6563,27.625 159.9688,26.5547 Q159.2813,25.4844 159.2813,24.2031 L159.2813,23.0469 Q159.2813,21.7188 159.8984,20.5703 Q160.5156,19.4219 161.6094,18.8047 Q162.7031,18.1875 163.9375,18.1875 Q164.6719,18.1875 165.3203,18.3516 Q165.9688,18.5156 166.5156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="184.25" y="28.7285">MailMessageService</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="457" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="50.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="27" y="57.5332">configuration : SMTPConfigModel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="67.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="27" y="75.1426">smtpClient : SmtpClient</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="457" y1="82.2188" y2="82.2188"/><ellipse cx="18" cy="96.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="27" y="100.752">MailMessageService(configurations : IOptions&lt;SMTPConfigModel&gt;)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="111.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400" x="27" y="118.3613">CreateMailMessage(message : string, to : string) : MailMessage</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="128.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="27" y="135.9707">SetupSmtpClient() : void</text></g><!--MD5=[b99589589da93216cf7785fbc10ff721]
class SMTPConfigModel--><g id="elem_SMTPConfigModel"><rect codeLine="36" fill="#F1F1F1" height="206.4844" id="SMTPConfigModel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="407.5" y="203"/><ellipse cx="451.75" cy="219" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M454.5156,214.875 Q454.6719,214.6563 454.8594,214.5469 Q455.0469,214.4375 455.2656,214.4375 Q455.6406,214.4375 455.875,214.6953 Q456.1094,214.9531 456.1094,215.5625 L456.1094,217.0156 Q456.1094,217.625 455.875,217.8906 Q455.6406,218.1563 455.2656,218.1563 Q454.9219,218.1563 454.7188,217.9531 Q454.5156,217.7656 454.4063,217.25 Q454.3594,216.8906 454.1719,216.7031 Q453.8438,216.3281 453.2344,216.1094 Q452.625,215.8906 452,215.8906 Q451.2344,215.8906 450.6016,216.2188 Q449.9688,216.5469 449.4766,217.2969 Q448.9844,218.0469 448.9844,219.0781 L448.9844,220.1719 Q448.9844,221.4063 449.875,222.2266 Q450.7656,223.0469 452.3594,223.0469 Q453.2969,223.0469 453.9531,222.7969 Q454.3438,222.6406 454.7656,222.2031 Q455.0313,221.9375 455.1797,221.8594 Q455.3281,221.7813 455.5313,221.7813 Q455.8594,221.7813 456.1172,222.0391 Q456.375,222.2969 456.375,222.6406 Q456.375,222.9844 456.0313,223.3906 Q455.5313,223.9688 454.7344,224.2969 Q453.6563,224.75 452.3594,224.75 Q450.8438,224.75 449.6406,224.125 Q448.6563,223.625 447.9688,222.5547 Q447.2813,221.4844 447.2813,220.2031 L447.2813,219.0469 Q447.2813,217.7188 447.8984,216.5703 Q448.5156,215.4219 449.6094,214.8047 Q450.7031,214.1875 451.9375,214.1875 Q452.6719,214.1875 453.3203,214.3516 Q453.9688,214.5156 454.5156,214.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="472.25" y="224.7285">SMTPConfigModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="620.5" y1="235" y2="235"/><ellipse cx="418.5" cy="249.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="427.5" y="253.5332">SenderAddress : string</text><ellipse cx="418.5" cy="266.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="427.5" y="271.1426">SenderDisplayName : string</text><ellipse cx="418.5" cy="284.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="427.5" y="288.752">UserName : string</text><ellipse cx="418.5" cy="302.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="427.5" y="306.3613">Password : string</text><ellipse cx="418.5" cy="319.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="427.5" y="323.9707">Host : string</text><ellipse cx="418.5" cy="337.3516" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="427.5" y="341.5801">Port : string</text><ellipse cx="418.5" cy="354.9609" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="427.5" y="359.1895">EnableSSL : string</text><ellipse cx="418.5" cy="372.5703" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="427.5" y="376.7988">UseDefaultCredentials : string</text><ellipse cx="418.5" cy="390.1797" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="427.5" y="394.4082">IsBodyHtml : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="620.5" y1="401.4844" y2="401.4844"/></g><!--MD5=[5009355033d421c5ef52ff093b464101]
class IMessageProvider--><g id="elem_IMessageProvider"><rect codeLine="22" fill="#F1F1F1" height="83.2188" id="IMessageProvider" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="401" x="521" y="33.5"/><ellipse cx="660.25" cy="49.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M661.2031,46.1406 L661.2031,52.7969 L662.9219,52.7969 Q663.5313,52.7969 663.7969,53.0313 Q664.0625,53.2656 664.0625,53.6563 Q664.0625,54.0313 663.7969,54.2656 Q663.5313,54.5 662.9219,54.5 L657.7813,54.5 Q657.1719,54.5 656.9063,54.2656 Q656.6406,54.0313 656.6406,53.6406 Q656.6406,53.2656 656.9063,53.0313 Q657.1719,52.7969 657.7813,52.7969 L659.5,52.7969 L659.5,46.1406 L657.7813,46.1406 Q657.1719,46.1406 656.9063,45.9063 Q656.6406,45.6719 656.6406,45.2813 Q656.6406,44.9063 656.9063,44.6719 Q657.1719,44.4375 657.7813,44.4375 L662.9219,44.4375 Q663.5313,44.4375 663.7969,44.6719 Q664.0625,44.9063 664.0625,45.2813 Q664.0625,45.6719 663.7969,45.9063 Q663.5313,46.1406 662.9219,46.1406 L661.2031,46.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114" x="680.75" y="55.2285">IMessageProvider</text><line style="stroke:#181818;stroke-width:0.5;" x1="522" x2="921" y1="65.5" y2="65.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="522" x2="921" y1="73.5" y2="73.5"/><ellipse cx="532" cy="87.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="541" y="92.0332">GetRegisterMessage(to: string, key : string) : IMessage</text><ellipse cx="532" cy="105.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="375" x="541" y="109.6426">GetLoginAttemptMessage(to: string, otp : string) : IMessage</text></g><!--MD5=[87a64bb4f7cf8289e3ea958cb604971b]
class IMessage--><g id="elem_IMessage"><rect codeLine="30" fill="#F1F1F1" height="83.2188" id="IMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="656.5" y="264.5"/><ellipse cx="687.7" cy="280.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M688.6531,277.1406 L688.6531,283.7969 L690.3719,283.7969 Q690.9813,283.7969 691.2469,284.0313 Q691.5125,284.2656 691.5125,284.6563 Q691.5125,285.0313 691.2469,285.2656 Q690.9813,285.5 690.3719,285.5 L685.2313,285.5 Q684.6219,285.5 684.3563,285.2656 Q684.0906,285.0313 684.0906,284.6406 Q684.0906,284.2656 684.3563,284.0313 Q684.6219,283.7969 685.2313,283.7969 L686.95,283.7969 L686.95,277.1406 L685.2313,277.1406 Q684.6219,277.1406 684.3563,276.9063 Q684.0906,276.6719 684.0906,276.2813 Q684.0906,275.9063 684.3563,275.6719 Q684.6219,275.4375 685.2313,275.4375 L690.3719,275.4375 Q690.9813,275.4375 691.2469,275.6719 Q691.5125,275.9063 691.5125,276.2813 Q691.5125,276.6719 691.2469,276.9063 Q690.9813,277.1406 690.3719,277.1406 L688.6531,277.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="705.3" y="286.2285">IMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="657.5" x2="785.5" y1="296.5" y2="296.5"/><ellipse cx="667.5" cy="310.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="676.5" y="315.0332">Message : string</text><ellipse cx="667.5" cy="328.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="676.5" y="332.6426">To : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="657.5" x2="785.5" y1="339.7188" y2="339.7188"/></g><!--MD5=[84f262efe365c02d647ace4036fb533b]
link MailMessageService to IMessageService--><g id="link_MailMessageService_IMessageService"><path codeLine="19" d="M224.29,143.16 C220.02,178.07 214.88,220.1 210.91,252.59 " fill="none" id="MailMessageService-to-IMessageService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="217.81,253.86,208.43,272.86,203.91,252.16,217.81,253.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6d8bd7eb997d9455c5239cf184a99a38]
reverse link MailMessageService to SMTPConfigModel--><g id="link_MailMessageService_SMTPConfigModel"><path codeLine="20" d="M326.53,151.29 C347.61,168.26 369.85,186.21 390.5,203 C396.02,207.48 401.66,212.09 407.36,216.74 " fill="none" id="MailMessageService-backto-SMTPConfigModel" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="316.28,143.05,318.4499,149.9269,325.6324,150.5688,323.4625,143.692,316.28,143.05" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7dcfb9b309bee4a5c761861df50c90c1]
reverse link IMessageProvider to IMessage--><g id="link_IMessageProvider_IMessage"><path codeLine="27" d="M721.5,129.75 C721.5,170.91 721.5,226.82 721.5,264.32 " fill="none" id="IMessageProvider-backto-IMessage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="721.5,116.68,717.5,122.68,721.5,128.68,725.5,122.68,721.5,116.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[85d37220917bc2d8944b0fd9c4dcc2a1]
@startuml API class diagram

top to bottom direction

'Services'
interface IMessageService {
    +SendMessageAsync(message : IMessage) : Task
}

class MailMessageService{
    -configuration : SMTPConfigModel
    -smtpClient : SmtpClient
    - -
    +MailMessageService(configurations : IOptions<SMTPConfigModel>)
    -CreateMailMessage(message : string, to : string) : MailMessage
    -SetupSmtpClient() : void 
}

'Service mappings'
MailMessageService .-|> IMessageService
MailMessageService o- - SMTPConfigModel
'Providers'
interface IMessageProvider{
    +GetRegisterMessage(to: string, key : string) : IMessage
    +GetLoginAttemptMessage(to: string, otp : string) : IMessage
}
'Provider mapping'
IMessageProvider *- - IMessage

'Models'
interface IMessage{
    +Message : string
    +To : string
}


class SMTPConfigModel {
    +SenderAddress : string
    +SenderDisplayName : string
    +UserName : string
    +Password : string
    +Host : string
    +Port : string
    +EnableSSL : string
    +UseDefaultCredentials : string
    +IsBodyHtml : string
}

@enduml

@startuml API class diagram

top to bottom direction

interface IMessageService {
    +SendMessageAsync(message : IMessage) : Task
}

class MailMessageService{
    -configuration : SMTPConfigModel
    -smtpClient : SmtpClient
    - -
    +MailMessageService(configurations : IOptions<SMTPConfigModel>)
    -CreateMailMessage(message : string, to : string) : MailMessage
    -SetupSmtpClient() : void 
}

MailMessageService .-|> IMessageService
MailMessageService o- - SMTPConfigModel
interface IMessageProvider{
    +GetRegisterMessage(to: string, key : string) : IMessage
    +GetLoginAttemptMessage(to: string, otp : string) : IMessage
}
IMessageProvider *- - IMessage

interface IMessage{
    +Message : string
    +To : string
}


class SMTPConfigModel {
    +SenderAddress : string
    +SenderDisplayName : string
    +UserName : string
    +Password : string
    +Host : string
    +Port : string
    +EnableSSL : string
    +UseDefaultCredentials : string
    +IsBodyHtml : string
}

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>